<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Tasks - Task-Me ‚ú®</title>
    <link rel="stylesheet" href="/styles/main.css">
    <link rel="stylesheet" href="/styles/tasks.css">
    <link rel="stylesheet" href="/styles/keyboard.css">
    <link rel="stylesheet" href="/styles/ai-modal.css">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="modal-overlay"></div>
    <div class="ai-modal">
        <div class="ai-modal-header">
            <h2>ü§ñ AI Task Assistant</h2>
            <button class="ai-close-btn">√ó</button>
        </div>
        <div class="ai-modal-content">
            <div class="ai-role-input">
                <label for="user-role">Your Role:</label>
                <input type="text" id="user-role" placeholder="e.g., Project Manager, Developer, Designer..." class="role-input">
            </div>
            <div class="ai-actions">
                <button class="ai-action-btn" data-action="prioritize">‚≠ê Prioritize Tasks</button>
            </div>
            <div class="ai-suggestions"></div>
        </div>
    </div>

    <nav>
        <div class="logo">
            Task-Me ‚ú®
            <span class="beta-badge">BETA</span>
        </div>
        <div class="nav-links">
            <a href="/">Home</a>
            <a href="/pages/my-tasks.html" class="active">My Tasks</a>
            <a href="#">Stats</a>
        </div>
        <div class="nav-controls">
            <button class="theme-toggle" aria-label="Toggle theme">üåô</button>
            <button class="profile-btn">üòé</button>
        </div>
    </nav>

    <main class="tasks-page">
        <header class="tasks-header">
            <h1>My Tasks üìù</h1>
            <div class="view-controls">
                <button class="view-btn active" data-view="list">üìã List</button>
                <button class="keyboard-shortcuts-btn" aria-label="Show keyboard shortcuts">
                    <span class="keyboard-icon">‚å®Ô∏è</span>
                    <span class="keyboard-text">Shortcuts</span>
                </button>
                <button class="ai-support-btn" aria-label="Get AI assistance">
                    <span class="ai-icon">ü§ñ</span>
                    <span class="ai-text">AI Support</span>
                </button>
            </div>
        </header>

        <section class="quick-add">
            <div class="overall-progress">
                <div class="progress-ring large" data-color="primary">
                    <svg width="80" height="80">
                        <circle class="progress-ring-circle-bg" cx="40" cy="40" r="36"></circle>
                        <circle class="progress-ring-circle" cx="40" cy="40" r="36"></circle>
                    </svg>
                    <div class="progress-text">
                        <span class="progress-percentage">0%</span>
                        <span class="progress-label">Complete</span>
                    </div>
                </div>
            </div>
            <div class="task-input-container">
                <input type="text" placeholder="Add a new task..." class="task-input">
                <button class="add-btn">+</button>
            </div>
        </section>

        <!-- Replace filters section with category headers -->
        <section class="tasks-list">
            <div class="category-section" data-category="inbox">
                <div class="category-header-wrapper">
                    <div class="progress-ring" data-color="info">
                        <svg width="40" height="40">
                            <circle class="progress-ring-circle-bg" cx="20" cy="20" r="16"></circle>
                            <circle class="progress-ring-circle" cx="20" cy="20" r="16"></circle>
                        </svg>
                        <span class="progress-text">0%</span>
                    </div>
                    <h2 class="category-header">üì• Inbox</h2>
                </div>
                <p class="category-description">New tasks land here. Drag them to categorize.</p>
                <div class="tasks-container" data-droppable="true">
                    <!-- Tasks will be added here -->
                </div>
            </div>
        
            <div class="category-section" data-category="a">
                <div class="category-header-wrapper">
                    <div class="progress-ring" data-color="danger">
                        <svg width="40" height="40">
                            <circle class="progress-ring-circle-bg" cx="20" cy="20" r="16"></circle>
                            <circle class="progress-ring-circle" cx="20" cy="20" r="16"></circle>
                        </svg>
                        <span class="progress-text">0%</span>
                    </div>
                    <h2 class="category-header">A - Very Important & Urgent üî•</h2>
                </div>
                <p class="category-description">High urgency tasks with serious consequences</p>
                <div class="tasks-container" data-droppable="true">
                    <!-- Tasks will be added here -->
                </div>
            </div>

            <div class="category-section" data-category="b">
                <div class="category-header-wrapper">
                    <div class="progress-ring" data-color="warning">
                        <svg width="40" height="40">
                            <circle class="progress-ring-circle-bg" cx="20" cy="20" r="16"></circle>
                            <circle class="progress-ring-circle" cx="20" cy="20" r="16"></circle>
                        </svg>
                        <span class="progress-text">0%</span>
                    </div>
                    <h2 class="category-header">B - Important Tasks ‚≠ê</h2>
                </div>
                <p class="category-description">Medium urgency with manageable consequences</p>
                <div class="tasks-container" data-droppable="true"></div>
            </div>

            <div class="category-section" data-category="c">
                <div class="category-header-wrapper">
                    <div class="progress-ring" data-color="success">
                        <svg width="40" height="40">
                            <circle class="progress-ring-circle-bg" cx="20" cy="20" r="16"></circle>
                            <circle class="progress-ring-circle" cx="20" cy="20" r="16"></circle>
                        </svg>
                        <span class="progress-text">0%</span>
                    </div>
                    <h2 class="category-header">C - Nice-to-do Tasks ‚ú®</h2>
                </div>
                <p class="category-description">Low importance but high urgency</p>
                <div class="tasks-container" data-droppable="true">
                    <!-- Tasks will be added here -->
                </div>
            </div>

            <div class="category-section" data-category="d">
                <div class="category-header-wrapper">
                    <div class="progress-ring" data-color="info">
                        <svg width="40" height="40">
                            <circle class="progress-ring-circle-bg" cx="20" cy="20" r="16"></circle>
                            <circle class="progress-ring-circle" cx="20" cy="20" r="16"></circle>
                        </svg>
                        <span class="progress-text">0%</span>
                    </div>
                    <h2 class="category-header">D - Delegate Tasks üë•</h2>
                </div>
                <p class="category-description">Tasks that can be handled by others</p>

                <div class="tasks-container" data-droppable="true">
                    <!-- Tasks will be added here -->
                </div>
            </div>

            <div class="category-section" data-category="e">
                <div class="category-header-wrapper">
                    <div class="progress-ring" data-color="info">
                        <svg width="40" height="40">
                            <circle class="progress-ring-circle-bg" cx="20" cy="20" r="16"></circle>
                            <circle class="progress-ring-circle" cx="20" cy="20" r="16"></circle>
                        </svg>
                        <span class="progress-text">0%</span>
                    </div>
                    <h2 class="category-header">E - Eliminate Tasks ‚ùå</h2>
                </div>
                <p class="category-description">Tasks to remove or decline</p>

                <div class="tasks-container" data-droppable="true">
                    <!-- Tasks will be added here -->
                </div>
            </div>
        </section>

        <!-- Empty State -->
        <section class="empty-state" style="display: none;">
            <div class="empty-illustration">‚ú®</div>
            <h2>No tasks yet!</h2>
            <p>Add your first task to get started</p>
            <button class="cta-button">Add Task ‚ö°Ô∏è</button>
        </section>
    </main>

    <!-- Update Keyboard Shortcuts Modal -->
    <div class="modal-overlay"></div>
    <div class="keyboard-shortcuts">
        <div class="modal-header">
            <h2>‚å®Ô∏è Keyboard Shortcuts</h2>
            <button class="close-btn">√ó</button>
        </div>
        <div class="shortcuts-grid">
            <div class="shortcut-category">
                <h3>Navigation</h3>
                <div class="shortcut-item">
                    <span class="shortcut-key">j</span>
                    <span class="shortcut-description">Next task</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">k</span>
                    <span class="shortcut-description">Previous task</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">?</span>
                    <span class="shortcut-description">Show shortcuts</span>
                </div>
            </div>
            <div class="shortcut-category">
                <h3>Actions</h3>
                <div class="shortcut-item">
                    <span class="shortcut-key">n</span>
                    <span class="shortcut-description">New task</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">e</span>
                    <span class="shortcut-description">Edit task</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">d</span>
                    <span class="shortcut-description">Delete task</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">Enter</span>
                    <span class="shortcut-description">Toggle completion</span>
                </div>
            </div>
            <div class="shortcut-category">
                <h3>Categories</h3>
                <div class="shortcut-item">
                    <span class="shortcut-key">1</span>
                    <span class="shortcut-description">Move to Inbox</span>
                </div>
                <div class="shortcut-item">
                    <span class="shortcut-key">a</span>
                    <span class="shortcut-description">Move to Category A</span>
                </div>
                <!-- Add other category shortcuts -->
            </div>
        </div>
    </div>

    <script src="/scripts/main.js"></script>
    <script src="/scripts/tasks.js"></script>
    <script type="module">
        import { initializeAISupport } from '/scripts/ai-support.js';
        import { initializeKeyboardControls } from '/scripts/keyboard-controls.js';
        
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Initializing AI Support...');
            initializeAISupport();
            
            console.log('Initializing Keyboard Controls...');
            initializeKeyboardControls();
        });
    </script>

</body>
</html>